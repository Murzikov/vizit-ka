/*
  Основные стили для персонального лендинга Савелия.
  Использует CSS переменные для лёгкой настройки цветовой схемы и плавные переходы для переключения темы.
  Придерживается современного минимализма с аккуратной типографикой и плавными микродвижениями.
*/

/* CSS Reset */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
  scroll-padding-top: 80px;
  /* учёт фиксированного хедера */
}

body {
  font-family: 'Inter', sans-serif;
  line-height: 1.6;
  color: var(--text);
  background-color: var(--bg);
  min-height: 100vh;
  transition: background-color 0.4s ease-in-out, color 0.4s ease-in-out;
}

/* Цветовая схема по умолчанию (светлая) */
:root {
  --bg: #f7f7fc;
  --surface: rgba(255, 255, 255, 0.6);
  --text: #2e2e35;
  --muted: #666675;
  --primary: #8c7aff;
  --accent: #d4a556;
  --border: rgba(0, 0, 0, 0.1);
  --shadow: rgba(0, 0, 0, 0.05);
  --radius: 20px;
  --header-height: 70px;
  /* RGB values for primary and accent colors used in ambient blobs.
     These variables allow us to construct rgba() colors for gradient backgrounds and support
     smooth transitions when switching themes. */
  --primary-rgb: 140, 122, 255;
  --accent-rgb: 212, 165, 86;
}

/* Тёмная тема */
.theme-dark {
  --bg: #111117;
  --surface: rgba(33, 34, 40, 0.8);
  --text: #e8e8f0;
  --muted: #8b8ca7;
  --primary: #a08cff;
  --accent: #c59b5d;
  --border: rgba(255, 255, 255, 0.1);
  --shadow: rgba(0, 0, 0, 0.4);
  /* Adjusted RGB values for dark theme to make ambient colors deeper and less saturated.
     Keeping a separate RGB value allows gradients and blobs to adapt seamlessly when the theme changes. */
  --primary-rgb: 160, 140, 255;
  --accent-rgb: 197, 155, 93;
}

/* Общие элементы */
a {
  color: inherit;
  text-decoration: none;
}

ul {
  list-style: none;
}

img {
  display: block;
  max-width: 100%;
  height: auto;
}

h1,
h2,
h3 {
  font-family: 'Playfair Display', serif;
  color: var(--text);
  line-height: 1.2;
  letter-spacing: -0.02em;
}

p {
  color: var(--muted);
  margin-top: 0.5rem;
}

button {
  background: none;
  border: none;
  cursor: pointer;
}

/* Хедер */
.header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--header-height);
  background: var(--bg);
  backdrop-filter: blur(10px);
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  z-index: 1000;
  transition: background-color 0.4s ease-in-out;
}

.nav {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 1rem;
}

.logo {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--primary);
}

.nav-list {
  display: flex;
  gap: 1.5rem;
}

.nav-list a {
  position: relative;
  font-weight: 500;
  color: var(--text);
  padding: 0.25rem 0;
  transition: color 0.3s ease-in-out;
}

.nav-list a:hover,
.nav-list a.active {
  color: var(--primary);
}

.nav-list a::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -2px;
  width: 100%;
  height: 2px;
  background: var(--primary);
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.3s ease-in-out;
}

.nav-list a:hover::after,
.nav-list a.active::after {
  transform: scaleX(1);
}

/* Переключатель темы */
.theme-toggle {
  width: 48px;
  height: 24px;
  border-radius: 14px;
  background: var(--surface);
  border: 1px solid var(--border);
  position: relative;
  display: flex;
  align-items: center;
  padding: 2px;
  transition: background-color 0.4s ease-in-out, border-color 0.4s ease-in-out;
}

.theme-toggle .toggle-thumb {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: var(--primary);
  transition: transform 0.3s ease-in-out;
}

body.theme-dark .theme-toggle .toggle-thumb {
  transform: translateX(24px);
}

.theme-toggle:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* Основные секции */
.section {
  width: 100%;
  min-height: 100vh;
  padding: calc(var(--header-height) + 4rem) 1rem 4rem;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

/* Hero */
.hero {
  overflow: hidden;
  position: relative;
}

.hero-content {
  z-index: 2;
  text-align: left;
  max-width: 800px;
}

.hero-title {
  font-size: clamp(2.5rem, 8vw, 5rem);
  font-weight: 700;
  margin-bottom: 1rem;
}

.hero-title .line {
  display: inline-block;
  overflow: hidden;
}

.hero-title .role {
  color: var(--primary);
  font-weight: 700;
}

.hero-subtitle {
  font-size: clamp(1rem, 2vw, 1.25rem);
  max-width: 600px;
  margin-bottom: 2rem;
  color: var(--muted);
}

.hero-buttons {
  display: flex;
  gap: 1rem;
}

.btn {
  padding: 0.75rem 1.5rem;
  border-radius: 999px;
  font-weight: 600;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
}

.btn-primary {
  background: var(--primary);
  color: #fff;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
}

.btn-primary:hover,
.btn-primary:focus-visible {
  background: var(--accent);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  outline: none;
}

.btn-secondary {
  background: transparent;
  border: 2px solid var(--primary);
  color: var(--primary);
}

.btn-secondary:hover,
.btn-secondary:focus-visible {
  background: var(--primary);
  color: #fff;
  outline: none;
}

/* Hero background blobs */
.hero-bg {
  position: absolute;
  inset: 0;
  z-index: 1;
  overflow: hidden;
  pointer-events: none;
}

.blob {
  position: absolute;
  width: 400px;
  height: 400px;
  border-radius: 50%;
  filter: blur(80px);
  opacity: 0.6;
  transform: translate(-50%, -50%);
  transition: transform 0.2s ease-in-out-out;
}

.blob1 {
  top: 20%;
  left: 20%;
  /* Remove static colour fill; hero blobs now use gradient layers for dynamic colour shift. */
  background: none;
}

.blob2 {
  top: 70%;
  left: 50%;
  background: none;
}

.blob3 {
  top: 40%;
  left: 80%;
  /* Removed static background; hero blobs now use layered gradients defined in pseudo-elements. */
  background: none;
}

/* Ambient background container covering the entire page.
   It hosts a set of blurred blobs that gently float and change colour between purple and gold.
   The container is fixed so that the blobs remain in place relative to the viewport and
   behind all content. */
.ambient {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  pointer-events: none;
  overflow: hidden;
}

/* Base styles for ambient blobs and hero blobs.
   Each blob is relatively sized via the --size custom property, blurred to create softness,
   and uses before/after pseudo-elements to cross‑fade between primary and accent colours.
   We rely on GPU-friendly transforms for movement; the blur is applied only once via filter. */
.ambient .blob,
.hero-bg .blob {
  position: absolute;
  width: var(--size, 400px);
  height: var(--size, 400px);
  border-radius: 50%;
  overflow: hidden;
  filter: blur(100px);
  pointer-events: none;
  transform: translate(-50%, -50%);
  /* Provide a small transition for subtle mouse parallax; the actual movement is handled by JS. */
  will-change: transform;
}

/* Pseudo-elements provide two coloured layers that fade into each other.
   The ::before layer represents the primary colour, and ::after represents the accent colour.
   Their opacities animate in opposition via keyframes defined below. */
.ambient .blob::before,
.ambient .blob::after,
.hero-bg .blob::before,
.hero-bg .blob::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
}

.ambient .blob::before,
.hero-bg .blob::before {
  background: radial-gradient(circle at var(--gradient-x, 50%) var(--gradient-y, 50%), rgba(var(--primary-rgb), 0.7) 0%, rgba(var(--primary-rgb), 0) 70%);
  animation: fadePrimary 6s ease-in-out infinite alternate;
}

.ambient .blob::after,
.hero-bg .blob::after {
  background: radial-gradient(circle at var(--gradient-x, 50%) var(--gradient-y, 50%), rgba(var(--accent-rgb), 0.7) 0%, rgba(var(--accent-rgb), 0) 70%);
  animation: fadeAccent 6s ease-in-out infinite alternate;
}

@keyframes fadePrimary {

  0%,
  45% {
    opacity: 1;
  }

  55%,
  100% {
    opacity: 0;
  }
}

@keyframes fadeAccent {

  0%,
  45% {
    opacity: 0;
  }

  55%,
  100% {
    opacity: 1;
  }
}

/* Specific positioning and sizing for ambient blobs.
   Each nth-child rule defines different size, position and animation delay to create depth. */
.ambient .blob:nth-child(1) {
  --size: 600px;
  top: 10%;
  left: 15%;
  --gradient-x: 30%;
  --gradient-y: 30%;
  animation-delay: 3s;
}

.ambient .blob:nth-child(2) {
  --size: 500px;
  top: 40%;
  left: 80%;
  --gradient-x: 70%;
  --gradient-y: 70%;
  animation-delay: 3s;
}

.ambient .blob:nth-child(3) {
  --size: 700px;
  top: 75%;
  left: 30%;
  --gradient-x: 40%;
  --gradient-y: 60%;
  animation-delay: 3s;
}

.ambient .blob:nth-child(4) {
  --size: 450px;
  top: 20%;
  left: 70%;
  --gradient-x: 60%;
  --gradient-y: 40%;
  animation-delay: 3s;
}

.ambient .blob:nth-child(5) {
  --size: 550px;
  top: 55%;
  left: 55%;
  --gradient-x: 50%;
  --gradient-y: 50%;
  animation-delay: 3s;
}

.ambient .blob:nth-child(6) {
  --size: 350px;
  top: 85%;
  left: 75%;
  --gradient-x: 65%;
  --gradient-y: 60%;
  animation-delay: 3s;
}

.ambient .blob:nth-child(7) {
  --size: 650px;
  top: 30%;
  left: 35%;
  --gradient-x: 50%;
  --gradient-y: 50%;
  animation-delay: 3s;
}

.ambient .blob:nth-child(8) {
  --size: 400px;
  top: 65%;
  left: 10%;
  --gradient-x: 40%;
  --gradient-y: 70%;
  animation-delay: 3s;
}

/* Override hero specific blob sizes and positions.
   Hero blobs are slightly smaller and positioned to frame the hero content.
   They share the same fade animations defined above. */
.hero-bg .blob:nth-child(1) {
  --size: 500px;
  top: 20%;
  left: 20%;
  --gradient-x: 30%;
  --gradient-y: 30%;
}

.hero-bg .blob:nth-child(2) {
  --size: 450px;
  top: 70%;
  left: 50%;
  --gradient-x: 70%;
  --gradient-y: 70%;
}

.hero-bg .blob:nth-child(3) {
  --size: 400px;
  top: 40%;
  left: 80%;
  --gradient-x: 50%;
  --gradient-y: 50%;
}

/* Reduce motion preference: pause colour and parallax animations for ambient and hero blobs.
   This ensures that users who prefer reduced motion experience a still, soft background. */
/* @media (prefers-reduced-motion: reduce) {

  .ambient .blob::before,
  .ambient .blob::after,
  .hero-bg .blob::before,
  .hero-bg .blob::after {
    animation: none !important;
  }
} */

/* Секции услуг и работ */
.services-works {
  flex-direction: row;
  align-items: flex-start;
  justify-content: center;
  gap: 3rem;
  flex-wrap: wrap;
}

.services,
.works {
  flex: 1 1 500px;
  max-width: 600px;
}

.section-title {
  font-size: clamp(2rem, 4vw, 3rem);
  margin-bottom: 1.5rem;
  color: var(--text);
}

/* Услуги */
.services-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
}

.service-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1.5rem;
  box-shadow: 0 4px 12px var(--shadow);
  transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out;
  backdrop-filter: blur(15px);
}

.service-card i {
  font-size: 1.75rem;
  color: var(--primary);
  margin-bottom: 1rem;
}

.service-card h3 {
  font-size: 1.25rem;
  margin-bottom: 0.5rem;
  color: var(--text);
}

.service-card p {
  font-size: 0.95rem;
  color: var(--muted);
}

.service-card:hover,
.service-card:focus-within {
  transform: translateY(-6px);
  border-color: var(--primary);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
}

/* Works */
.works-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
}

.work-card {
  border-radius: var(--radius);
  overflow: hidden;
  background: var(--surface);
  border: 1px solid var(--border);
  box-shadow: 0 4px 12px var(--shadow);
  transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out;
  display: flex;
  flex-direction: column;
  min-height: 350px;
}

.work-image-wrapper {
  flex: 1;
  overflow: hidden;
  position: relative;
}

.work-image-wrapper img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.5s ease-in-out;
}

.work-info {
  padding: 1rem;
  background: var(--surface);
  border-top: 1px solid var(--border);
}

.work-info h3 {
  font-size: 1.2rem;
  margin-bottom: 0.5rem;
  color: var(--text);
}

.work-info p {
  font-size: 0.95rem;
  color: var(--muted);
}

.work-card:hover .work-image-wrapper img,
.work-card:focus-within .work-image-wrapper img {
  transform: scale(1.05);
}

.work-card:hover,
.work-card:focus-within {
  transform: translateY(-6px);
  border-color: var(--primary);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
}

/* Contacts */
.contacts {
  text-align: center;
}

.contacts-subtitle {
  font-size: 1.1rem;
  margin-bottom: 2rem;
  color: var(--muted);
}

.contacts-icons {
  display: flex;
  justify-content: center;
  gap: 2rem;
  margin-bottom: 2rem;
}

.contact-icon {
  position: relative;
  font-size: 2rem;
  color: var(--primary);
  width: 3rem;
  height: 3rem;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background: var(--surface);
  border: 1px solid var(--border);
  transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, background-color 0.3s ease-in-out;
}

/* Устанавливаем размер и наследование цвета для иконки внутри кнопки контактов */
.contact-icon i {
  font-size: 1.5rem;
  line-height: 1;
  color: inherit;
}

.contact-icon:hover,
.contact-icon:focus-visible {
  transform: translateY(-4px) rotate(3deg);
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
  background-color: var(--primary);
  color: #fff;
  outline: none;
}

/* Tooltip */
.contact-icon::after {
  content: attr(data-tooltip);
  position: absolute;
  bottom: calc(100% + 0.5rem);
  left: 50%;
  transform: translateX(-50%);
  background: var(--surface);
  color: var(--text);
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  border: 1px solid var(--border);
  font-size: 0.75rem;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease-in-out;
  box-shadow: 0 2px 6px var(--shadow);
}

.contact-icon:hover::after,
.contact-icon:focus-visible::after {
  opacity: 1;
}

.contacts-list {
  list-style: none;
  margin-top: 1rem;
  display: inline-block;
  text-align: left;
}

.contacts-list li {
  font-size: 0.95rem;
  color: var(--muted);
  margin-bottom: 0.5rem;
  display: flex;
  align-items: flex-start;
}

.bullet-icon {
  color: var(--primary);
  font-size: 1.25rem;
  line-height: 1;
  margin-right: 0.5rem;
}

/* Footer */
.footer {
  padding: 2rem 1rem;
  text-align: center;
  font-size: 0.875rem;
  color: var(--muted);
}

/* Фокус видимый для всех интерактивных элементов */
a:focus-visible,
.btn:focus-visible,
.contact-icon:focus-visible,
.service-card:focus-within,
.work-card:focus-within {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

/* Адаптивность */
@media (max-width: 768px) {
  .services-works {
    flex-direction: column;
  }

  .services,
  .works {
    max-width: 100%;
  }

  .nav-list {
    display: none;
  }

  /* Можно добавить бургер-меню по желанию */
}

@media (max-width: 480px) {
  .hero-title {
    font-size: clamp(2rem, 12vw, 3.5rem);
  }

  .hero-buttons {
    flex-direction: column;
    align-items: flex-start;
  }

  .btn {
    width: 100%;
    justify-content: center;
  }
}

/* Предпочтение минимизации анимаций */
/* @media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    transition-duration: 0.01ms !important;
    animation-duration: 0.01ms !important;
  }
} */


